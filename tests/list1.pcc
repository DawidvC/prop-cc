//////////////////////////////////////////////////////////////////////////////
//
//  Testing the list features. 
//
//////////////////////////////////////////////////////////////////////////////
#include <iostream>

//////////////////////////////////////////////////////////////////////////////
//  Defines a list type.
//////////////////////////////////////////////////////////////////////////////
datatype LIST = #[] 
              | #[ const char * ... LIST ]
              ;

//////////////////////////////////////////////////////////////////////////////
//  Method to print a list.
//////////////////////////////////////////////////////////////////////////////
std::ostream& operator << (std::ostream& f, LIST l)
{  match (l) 
   {  #[]:        { return f; }
   |  #[x]:       { return f << x; }
   |  #[x ... y]: { return f << x << ", " << y; }
   }
}

//////////////////////////////////////////////////////////////////////////////
//  Try the new list constructor in expressions.
//////////////////////////////////////////////////////////////////////////////
int main()
{
   using namespace std;

   LIST fruits  = #["apple", "orange", "pear"];
   LIST scums   = #["marketing", "lawyers", "Republicans"];
   LIST animals = #["weasels", "skunks" ... scums]; 
   cout << "Fruits        = " << fruits  << '\n';
   cout << "Animals       = " << animals << '\n';
   cout << "Mathematicans = " << #["Skolem", "Curry", "Thue", "Church"] << '\n';
   return 0;
}
